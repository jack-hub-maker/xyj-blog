---
title: 前言
sidebarDepth: 0
---

## JavaScript 一门优秀的语言

我始终相信：任何新技术的出现都是为了解决原有技术的某个痛点.

JavaScript 是一门优秀的编程语言吗？

- 每个人可能观点并不完全一致，但是从很多角度来看，JavaScript 是一门**非常优秀的编程语言**
- 而且，可以说在很长一段时间内**这个语言不会被代替**，并且会在**更多的领域**被大家广泛使用

著名的 Atwood 定律:

- Stack Overflow 的创立者之一的 Jeff Atwood 在 2007 年提出了著名的 Atwood 定律。
- any application that can be written in JavaScript, will eventually be written in JavaScript.
- 任何可以使用 JavaScript 来实现的应用都最终都会使用 JavaScript 实现。

其实我们已经看到了，这句话正在一步步被应验：

- **Web 端**的开发我们一直都是使用 JavaScript；

- **移动端**开发可以借助于 ReactNative、Weex、Uniapp 等框架实现跨平台开发；

- **小程序端**的开发也是离不开 JavaScript；

- **桌面端**应用程序我们可以借助于 Electron 来开发；

- **服务器端**开发可以借助于 Node 环境使用 JavaScript 来开发。

## JavaScript 的痛点

并且随着近几年前端领域的快速发展，让 JavaScript 迅速被**普及**和受广大开发者的**喜爱**，借助于 JavaScript 本身的
强大，也让使用 JavaScript 开发的人员越来越多。

优秀的 JavaScript 没有缺点吗？

- 其实上由于各种历史因素，JavaScript 语言本身**存在很多的缺点**；
- 比如 ES5 以及之前的使用的 var 关键字关于**作用域**的问题；
- 比如最初 JavaScript 设计的数组类型并不是连续的**内存空间**；
- 比如直到今天 JavaScript 也**没有加入**类型检测这一机制；

JavaScript 正在慢慢变好

- 不可否认的是，JavaScript 正在慢慢变得越来越好，无论是从底层设计还是应用层面.
- ES6、7、8 等的推出，每次都会让这门语言**更加现代、更加安全、更加方便**。
- 但是知道今天，JavaScript 在类型检测上依然是**毫无进展**

## 类型带来的问题

首先你需要知道，编程开发中我们有一个共识：**错误发现的越早越好**

- 能在写代码的时候发现错误，就不要在代码编译时再发现（IDE 的优势就是在代码编写过程中帮助我们发现错
  误）
- 能在代码编译期间发现错误，就不要在代码运行期间再发现（类型检测就可以很好的帮助我们做到这一点）
- 能在开发阶段发现错误，就不要在测试期间发现错误，能在测试期间发现错误，就不要在上线后发现错误。

现在我们想探究的就是如何在 代码编译期间 发现代码的错误：

- JavaScript 可以做到吗？不可以，我们来看下面这段经常可能出现的代码问题。

```js
function foo(message) {
  console.log(message.length);
}
foo("Hello World"); // 正确调用
foo(); // 错误调用(IDE没有报错)
```

![](/type-script/1.png)

## 类型错误

这是我们一个非常常见的错误：

- 这个错误很大的原因就是因为 JavaScript 没有对我们**传入的参数进行任何的限制**，只能等到**运行期间才发现这个错误**；
- 并且当这个错误产生时，会影响后续代码的继续执行，也就是整个项目都因为**一个小小的错误而深入崩溃**；
- 当然，你可能会想：我怎么可能犯这样低级的错误呢？
  - 当我们写像我们上面这样的简单的 demo 时，这样的错误很容易避免，并且当出现错误时，也很容易检查出来；
  - 但是当我们开发一个**大型项目**时呢？你能保证自己**一定不会出现这样的问题**吗？而且如果我们是调用别人的类
    库，又如何知道让我们传入的到底是什么样的参数呢？

但是，如果我们可以给 **JavaScript 加上很多限制**，在开发中就可以很好的**避免这样的问题**了：

- 比如我们的 getLength 函数中 str 是一个**必传的类型**，没有调用者没有传编译期间就会报错；
- 比如我们要求它的必须是一个 **String 类型**，传入其他类型就直接报错；
- 那么就可以知道很多的错误问题在**编译期间**就被发现，而不是等到运行时再去发现和修改；

## 类型思维的缺失

我们已经简单体会到没有类型检查带来的一些问题，JavaScript 因为从设计之初就没有考虑类型的约束问题，所以
造成了前端开发人员关于类型思维的缺失：

- 前端开发人员通常不关心变量或者参数是什么类型的，如果在必须确定类型时，我们往往需要使用各种判断验
  证；
- 从其他方向转到前端的人员，也会因为没有类型约束，而总是担心自己的**代码不安全，不够健壮**；

所以我们经常会说 JavaScript 不适合开发大型项目，因为当项目一旦庞大起来，这种宽松的类型约束会带来非常多
的安全隐患，多人员开发它们之间也没有良好的类型契约。

- 比如当我们去实现一个核心类库时，如果没有类型约束，那么需要对**别人传入的参数进行各种验证**来保证我们
  代码的健壮性；
- 比如我们去调用别人的函数，对方没有对函数进行任何的注释，我们只能去看里面的逻辑来理解这个函数需要
  **传入什么参数，返回值是什么类型**；

## JavaScript 添加类型约束

为了弥补 JavaScript 类型约束上的缺陷，增加类型约束，很多公司推出了自己的方案：

- 2014 年，Facebook 推出了 **flow** 来对 JavaScript 进行类型检查；
- 同年，Microsoft 微软也推出了 **TypeScript1.0** 版本；
- 他们都致力于为 JavaScript 提供类型检查；

而现在，无疑 TypeScript 已经完全胜出：

- Vue2.x 的时候采用的就是 flow 来做类型检查；
- Vue3.x 已经全线转向 TypeScript，98.3%使用 TypeScript 进行了重构；
- 而 Angular 在很早期就使用 TypeScript 进行了项目重构并且需要使用 TypeScript 来进行开发；
- 而甚至 Facebook 公司一些自己的产品也在使用 TypeScript；

学习 TypeScript 不仅仅可以为我们的代码增加类型约束，而且可以培养我们前端程序员具备类型思维。
